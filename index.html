<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->
<link href="https://fonts.googleapis.com/css2?family=Bungee+Spice&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css">

</head>
<body>
 

    <div class="container">
        <div class="row d-flex justify-content-center">
            <div class="col-md-5">
                <div class="car my-5 shadow">
                    <div class="card-header">
                        <h2>Marriage age calculator</h2>
                        <div class="msg">

                        </div>
                    </div>
                    <div class="card-body">
                        <form id="age_form">
                            
                        <div class="my-3">
                            <label>Name</label>
                            <input name="name" class="form-control" type="text">
                        </div>
                        <div class="my-3">
                            <label>Age</label>
                            <input name="age" class="form-control" type="text">
                        </div>

                        <div class="my-3">
                            <label>Gander</label>
                            <br/>

                            <label>
                            <input name="gender" type="radio" value="male">
                            Male
                            </label>

                            <label>
                            <input name="gender"  type="radio" value="female">
                            Female
                            </label>

                        </div>
                        <div class="my-3">
                            <input class="btn btn-primary" type="submit" value="submit">
                        </div>

                        <div class="card-footer">
                            <div class="msg_long">

                            </div>
                        </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
 


    <script src="./functions/function.js"></script>
    <script src="bootstrap/bootstrap.bundle.min.js"></script>
    <script>
        const msg = document.querySelector('.msg');
        const msg_long = document.querySelector('.msg_long');
        const age_form = document.getElementById('age_form');

        age_form.onsubmit = (event) => {
            event.preventDefault();
            
            const name = age_form.querySelector('input[name="name"]');
            const age = age_form.querySelector('input[name="age"]');
            const gender = age_form.querySelectorAll('input[name="gender"]');

            let genderName = 0;
            
            gender.forEach( item => {
                if(item.checked){
                    genderName = item.value;
                }
           });

           
           //Conditon Checking
           if ( name.value == '' || age.value == '' || genderName == '' ) {
            msg.innerHTML = msgAlert('Field must not be empty', 'warning');
           } else if(numberCheck(age.value) == false){
            msg.innerHTML = msgAlert('Your age is invalid', 'info');
           }

           //Marriage function

           let marriageAge = genderName == 'male' ? 21 : 18;

           if ( genderName == 'male' ) {
                if (age.value >= marriageAge) {
                    msg_long.innerHTML = msgAlert(`Hi ${name.value} your age is ok for marriage`, 'success') 
                }else{
                    msg_long.innerHTML = msgAlert(`Hi ${name.value} your age is not ok for marriage, You have to wait ${ marriageAge - age.value} years`) 
                }




           } else {


            if (age.value >= marriageAge) {
                    msg_long.innerHTML = msgAlert(`Hi ${name.value} your age is ok for marriage`, 'success') 
                }else{
                    msg_long.innerHTML = msgAlert(`Hi ${name.value} your age is not ok for marriage, You have to wait ${ marriageAge - age.value} years`) 
                }

                
           }


           
        }


    </script>
</body>
</html>